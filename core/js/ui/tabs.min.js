if(fpcm===void 0)var fpcm={};fpcm.ui_tabs={init:function(){var e=fpcm.dom.fromClass("fpcm.ui-tabs-function-autoinit");return e===!1||!e.length||(fpcm.ui_tabs.render("#"+e.attr("id")),!0)},render:function(e,t){if(!e)return console.error('Invalid "_elemClassId" data given for, value cannot be empty!'),!1;e=fpcm.ui.prepareId(e),t===void 0&&(t={});let s=fpcm.ui_tabs.getNodes(e);if(!s)return!1;let n=[].slice.call(s);n.forEach(function(e){var n=new bootstrap.Tab(e);e.addEventListener("click",function(e){if(!t.reload)return fpcm.ui_tabs.setActiveTab(e.target.dataset.tabIndex),!0;e.preventDefault();let n=fpcm.ui_tabs.getActiveTab();e.target.classList.contains("active")&&e.target.dataset.tabIndex==n&&(e.target.classList.remove("active"),new bootstrap.Tab(e.target).show()),fpcm.ui_tabs.setActiveTab(e.target.dataset.tabIndex)}),e.addEventListener("show.bs.tab",function(e){if(fpcm.ui_tabs._updateMainToolbar(e.target,e.relatedTarget),t.emptyPanel&&e.relatedTarget&&(typeof t.onEmptyPanelBefore=="function"&&t.onEmptyPanelBefore(e),fpcm.dom.fromId(e.relatedTarget.dataset.bsTarget).empty()),typeof t.onShow=="function"&&t.onShow(e),e.target.attributes.href.value.substr(0,1)==="#")return!0;var n,s=!!e.target.dataset.dataviewList&&e.target.dataset.dataviewList;e.target.dataset.ajaxQuiet||(n=document.createElement("span"),n.classList.add("spinner-border"),n.classList.add("spinner-border-sm"),n.classList.add("ms-2"),e.target.appendChild(n)),fpcm.ajax.get(e.target.href,{quiet:!0,execDone:function(o){if(!e.target.dataset.ajaxQuiet&&n&&e.target.removeChild(n),!s){typeof t.onRenderHtmlBefore=="function"&&t.onRenderHtmlBefore(e,o);let n=o instanceof Object&&o.html?o.html:o;return fpcm.dom.assignHtml(e.target.dataset.bsTarget,n),typeof t.onRenderHtmlAfter=="function"&&t.onRenderHtmlAfter(e,o),!1}if(!o.dataViewVars)return!1;typeof t.onRenderJsonBefore=="function"&&t.onRenderJsonBefore(e,o),fpcm.vars.jsvars.dataviews[s]=o.dataViewVars,fpcm.dom.assignHtml(e.target.dataset.bsTarget,fpcm.dataview.getDataViewWrapper(s,t.dataViewWrapperClass?t.dataViewWrapperClass:"")),fpcm.dataview.updateAndRender(s,{onRenderAfter:t.initDataViewOnRenderAfter}),typeof t.onRenderJsonAfter=="function"&&t.onRenderJsonAfter(e,o)}})}),e.addEventListener("shown.bs.tab",function(e){typeof t.onTabShowAfter=="function"&&t.onTabShowAfter(e)})}),(fpcm.vars.jsvars.activeTab===void 0||fpcm.vars.jsvars.activeTab<0||!n[fpcm.vars.jsvars.activeTab])&&(fpcm.vars.jsvars.activeTab=0),fpcm.vars.jsvars.activeTab>-1&&fpcm.dom.fromTag(n[fpcm.vars.jsvars.activeTab]).hasClass("active")&&fpcm.dom.fromTag(n[fpcm.vars.jsvars.activeTab]).removeClass("active"),new bootstrap.Tab(n[fpcm.vars.jsvars.activeTab]).show()},_updateMainToolbar:function(e,t){if(!e||!t)return!0;if(!e.dataset||!t.dataset)return!0;if(!e.dataset.toolbarButtons||!t.dataset.toolbarButtons||e.dataset.toolbarButtons===t.dataset.toolbarButtons)return!0;fpcm.ui.mainToolbar.find(".fpcm-ui-maintoolbarbuttons-tab"+e.dataset.toolbarButtons).removeClass("fpcm-ui-hidden"),fpcm.ui.mainToolbar.find(".fpcm-ui-maintoolbarbuttons-tab"+t.dataset.toolbarButtons).addClass("fpcm-ui-hidden")},getNodes:function(e){e=fpcm.ui.prepareId(e);let t=document.querySelectorAll(e+" a.nav-link");return t.length?t:(console.error('No tab nodes fround for "'+e+' a.nav-link"!'),!1)},show:function(e,t){if(!e||!t===void 0)return console.error('Invalid params data given data given "_elemClassId" or "_tabId" cennot be empty!'),!1;e=fpcm.ui.prepareId(e);let n=fpcm.ui_tabs.getNodes(e);if(!n)return!1;if(n=[].slice.call(n),!n[t])return console.error("Undefined tab node "+t+"!"),!1;fpcm.dom.fromTag(n[t]).hasClass("active")&&fpcm.dom.fromTag(n[t]).removeClass("active"),new bootstrap.Tab(n[t]).show()},getActiveTab:function(){let e=document.getElementById("activeTab");return e?e.value:0},setActiveTab:function(e){let t=document.getElementById("activeTab");return!!t&&(t.value=e,!0)}}