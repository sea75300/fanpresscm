if(fpcm===void 0)var fpcm={};fpcm.ui_tabs={init:function(){var e=fpcm.dom.fromClass("fpcm.ui-tabs-function-autoinit");return e===!1||!e.length||(fpcm.ui_tabs.render("#"+e.attr("id")),!0)},render:function(e,t){if(!e)return console.error('Invalid "_elemClassId" data given for, value cannot be empty!'),!1;t===void 0&&(t={});let s=fpcm.ui_tabs.getNodes(e);if(!s)return!1;let n=[].slice.call(s);n.forEach(function(e){var n=new bootstrap.Tab(e);e.addEventListener("click",function(e){e.preventDefault(),t.reload&&fpcm.dom.fromTag(e.target).hasClass("active")&&fpcm.dom.fromTag(e.target).removeClass("active"),e.target.dataset.tabIndex!==void 0&&fpcm.dom.fromId("activeTab").val(e.target.dataset.tabIndex),new bootstrap.Tab(e.target).show()}),e.addEventListener("show.bs.tab",function(e){if(fpcm.ui_tabs._updateMainToolbar(e.target,e.relatedTarget),t.emptyPanel&&e.relatedTarget&&(typeof t.onRenderHtmlBefore=="function"&&t.onEmptyPanelBefore(e),fpcm.dom.fromId(e.relatedTarget.dataset.bsTarget).empty()),typeof t.onShow=="function"&&t.onShow(e),e.target.attributes.href.value.substr(0,1)==="#")return!0;var n=!!e.target.dataset.dataviewList&&e.target.dataset.dataviewList;fpcm.ajax.get(e.target.href,{quiet:!!e.target.dataset.ajaxQuiet,execDone:function(s){if(!n){typeof t.onRenderHtmlBefore=="function"&&t.onRenderHtmlBefore(e,s);let n=s instanceof Object&&s.html?s.html:s;return fpcm.dom.assignHtml(e.target.dataset.bsTarget,n),typeof t.onRenderHtmlAfter=="function"&&t.onRenderHtmlAfter(e,s),!1}if(!s.dataViewVars)return!1;typeof t.onRenderJsonBefore=="function"&&t.onRenderJsonBefore(e,s),fpcm.vars.jsvars.dataviews[n]=s.dataViewVars,fpcm.dom.assignHtml(e.target.dataset.bsTarget,fpcm.dataview.getDataViewWrapper(n,t.dataViewWrapperClass?t.dataViewWrapperClass:"")),fpcm.dataview.updateAndRender(n,{onRenderAfter:t.initDataViewOnRenderAfter}),typeof t.onRenderJsonAfter=="function"&&t.onRenderJsonAfter(e,s)}})}),e.addEventListener("shown.bs.tab",function(e){typeof t.onTabShowAfter=="function"&&t.onTabShowAfter(e)})}),(fpcm.vars.jsvars.activeTab===void 0||fpcm.vars.jsvars.activeTab<0||!n[fpcm.vars.jsvars.activeTab])&&(fpcm.vars.jsvars.activeTab=0),fpcm.vars.jsvars.activeTab>-1&&fpcm.dom.fromTag(n[fpcm.vars.jsvars.activeTab]).hasClass("active")&&fpcm.dom.fromTag(n[fpcm.vars.jsvars.activeTab]).removeClass("active"),new bootstrap.Tab(n[fpcm.vars.jsvars.activeTab]).show()},_updateMainToolbar:function(e,t){if(!e||!t)return!0;if(!e.dataset||!t.dataset)return!0;if(!e.dataset.toolbarButtons||!t.dataset.toolbarButtons||e.dataset.toolbarButtons===t.dataset.toolbarButtons)return!0;fpcm.ui.mainToolbar.find(".fpcm-ui-maintoolbarbuttons-tab"+e.dataset.toolbarButtons).removeClass("fpcm-ui-hidden"),fpcm.ui.mainToolbar.find(".fpcm-ui-maintoolbarbuttons-tab"+t.dataset.toolbarButtons).addClass("fpcm-ui-hidden")},getNodes:function(e){let t=document.querySelectorAll(e+" a.nav-link");return t.length?t:(console.error('No tab nodes fround for "'+e+' a.nav-link"!'),!1)},show:function(e,t){if(!e||!t===void 0)return console.error('Invalid params data given data given "_elemClassId" or "_tabId" cennot be empty!'),!1;let n=fpcm.ui_tabs.getNodes(e);if(!n)return!1;if(n=[].slice.call(n),!n[t])return console.error("Undefined tab node "+t+"!"),!1;fpcm.dom.fromTag(n[t]).hasClass("active")&&fpcm.dom.fromTag(n[t]).removeClass("active"),new bootstrap.Tab(n[t]).show()}}