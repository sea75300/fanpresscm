/*
 (c) 2015-2018, Stefan Seehafer
 @license http://www.gnu.org/licenses/gpl.txt GPLv3
*/
if(void 0===fpcm)var fpcm={};
fpcm.ui_navigation={_vars:{},init:function(){fpcm.ui_navigation.initGreedyEl();fpcm.ui_navigation.highlightModule();fpcm.ui_navigation._vars.btn=fpcm.dom.fromId("btnHiddenMenu");fpcm.ui_navigation._vars.greedy=fpcm.dom.fromTag("div.greedy ul.fpcm-ui-menu:first-child");fpcm.ui_navigation._vars.hlinks=fpcm.dom.fromTag("div.greedy ul.fpcm-ui-nav-hidden-links");fpcm.ui_navigation._vars.numOfItems=0;fpcm.ui_navigation._vars.totalSpace=0;fpcm.ui_navigation._vars.breakWidths=[];fpcm.ui_navigation._vars.checkcnt=
0;fpcm.ui_navigation._vars.greedy.children().width(function(b,a){fpcm.ui_navigation._vars.totalSpace+=a;fpcm.ui_navigation._vars.numOfItems+=1;fpcm.ui_navigation._vars.breakWidths.push(fpcm.ui_navigation._vars.totalSpace)});fpcm.dom.fromWindow().resize(function(){fpcm.ui_navigation._checkGreedy()});fpcm.ui_navigation._vars.btn.click(function(){fpcm.ui_navigation._vars.hlinks.toggleClass("ui-scale-standlone-active");fpcm.dom.fromTag(this).toggleClass("menu-hover")});fpcm.ui_navigation._checkGreedy()},
_checkGreedy:function(){fpcm.ui_navigation.initGreedyEl();var b=fpcm.ui_navigation._vars.nav.width();var a=fpcm.ui_navigation._vars.greedy.children().length;fpcm.ui_navigation._vars.breakWidths[a-1]+200>=b?(fpcm.ui_navigation._vars.greedy.children().last().prependTo(fpcm.ui_navigation._vars.hlinks),--a,fpcm.ui_navigation._checkGreedy()):b>fpcm.ui_navigation._vars.breakWidths[a]+200&&(fpcm.ui_navigation._vars.hlinks.children().first().appendTo(fpcm.ui_navigation._vars.greedy),a+=1);fpcm.ui_navigation._vars.btn.attr("count",
fpcm.ui_navigation._vars.numOfItems-a);if(a===fpcm.ui_navigation._vars.numOfItems)return fpcm.ui_navigation._vars.btn.addClass("fpcm-ui-hidden"),!0;fpcm.ui_navigation._vars.btn.removeClass("fpcm-ui-hidden");1<a&&0<fpcm.ui_navigation._vars.btn.offset().left&&fpcm.ui_navigation._vars.hlinks.css("top",fpcm.ui_navigation._vars.btn.innerHeight());return!0},initGreedyEl:function(){if(fpcm.ui_navigation._vars.nav)return!0;fpcm.ui_navigation._vars.nav=fpcm.dom.fromTag("div.greedy");return!0},highlightModule:function(){if(fpcm.vars.jsvars.navigationActive)return fpcm.dom.fromId(fpcm.vars.jsvars.navigationActive).addClass("fpcm-menu-item-active").parents("li.fpcm-menu-level1").addClass("fpcm-menu-item-active"),
!0;fpcm.dom.fromId("fpcm-navigation li.fpcm-menu-level2.fpcm-menu-item-active").parents("li.fpcm-menu-level1").addClass("fpcm-menu-item-active");return!0}};