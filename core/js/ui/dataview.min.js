if(fpcm===void 0)var fpcm={};fpcm.dataview={_baseItem:{},render:function(e,t){if(t||(t={}),!fpcm.vars.jsvars.dataviews)return;if(!fpcm.dataview.exists(e))return console.log("Dataview "+e+" does not exists in fpcm.vars.jsvars.dataviews!"),!1;if(!fpcm.vars.jsvars.dataviews[e].init)return!1;if(!fpcm.vars.jsvars.dataviews[e].columns.length)return console.log("Dataview "+e+" does not contain any columns!"),!1;var s,n=fpcm.vars.jsvars.dataviews[e],i="";if(n.fullId=fpcm.dataview.getFullId(e),n.headId=n.fullId+"-head",n.rowsId=n.fullId+"-rows",fpcm.dataview._baseItem=document.getElementById(n.fullId),!fpcm.dataview._baseItem)return!1;fpcm.dataview._createHead(n,n.columns),fpcm.dataview._createRows(n),typeof t.onRenderAfter=="function"&&t.onRenderAfter.call(),fpcm.ui.assignCheckboxes();let o=fpcm.dataview._baseItem.querySelectorAll("div.row.placeholder-wave");for(s=0;s<o.length;s++)o[s].remove()},updateAndRender:function(e,t){if(!fpcm.vars.jsvars.dataviews||!fpcm.dataview.exists(e))return;fpcm.dom.fromId(fpcm.dataview.getFullId(e)).empty(),fpcm.dataview.render(e,t)},getDataViewWrapper:function(e,t){return t||(t="fpcm-ui-dataview-wrapper"),'<div id="'+fpcm.dataview.getFullId(e)+'" class="'+t+'"></div>'},getFullId:function(e){return"fpcm-dataview-"+e},getAlignString:function(e,t,n){switch(t===void 0?t="":t=t+"-",n===void 0&&(n=""),e){case"left":e="start";break;case"right":e="end";break}return n+" text-"+t+e},getSizeString:function(e){return e.size?" col-12 col-lg-"+e.size:"col"},exists:function(e){return!!fpcm.vars.jsvars.dataviews[e]},_createHead:function(e){let t=document.createElement("div");t.classList.add("row"),fpcm.ui.darkModeEnabled()?t.classList.add("bg-primary-subtle"):t.classList.add("text-bg-primary"),t.classList.add("py-1","fpcm","ui-dataview-head"),t.id=e.headId;for(var n in e.columns){let s=e.columns[n],i=(s.class?s.class+" ":"")+fpcm.dataview.getAlignString(s.align,"md","text-center")+" align-self-center py-0 py-md-1 "+fpcm.dataview.getSizeString(s)+(s.descr?"":" d-none d-lg-block"),o=document.createElement("div");o.id=e.fullId+"-dataview-headcol-"+s.name+n,o.innerHTML=s.descr?fpcm.ui.translate(s.descr):"&nbsp;",fpcm.dataview._assignStyles(i,o),t.appendChild(o),o=null}fpcm.dataview._baseItem.appendChild(t)},_createRows:function(e){let t=document.createElement("div");t.classList.add("fpcm"),t.classList.add("ui-dataview-rows"),t.id=e.rowsId;for(var n in e.rows)fpcm.dataview._addRow(n,e.rows[n],e,t);fpcm.dataview._baseItem.appendChild(t)},_addRow:function(e,t,n,s){var o,r,d,u,h,a=t.isNotFound===!0,c=n.fullId+"-dataview-row-"+e,l=t.isheadline?"fpcm-ui-dataview-subhead bg-dark-subtle":"fpcm ui-background-transition";l+=a?" fpcm-ui-dataview-notfound":"",t.class=l+(t.class?" "+t.class:"");let i=document.createElement("div");i.id=c,i.classList.add("row","py-2","border-bottom","border-2","border-secondary","border-opacity-50"),fpcm.dataview._assignStyles(t.class,i);for(r in t.columns){if(o=!!n.columns[r]&&n.columns[r],!o)return;let s=t.columns[r];o.size||(o.size="auto"),d=c+"-dataview-rowcol-"+s.name+e,u=(o.class?o.class+" ":"")+(a===!0?" text-start":fpcm.dataview.getAlignString(o.align))+(a===!0?" col":fpcm.dataview.getSizeString(o))+" fpcm-ui-dataview-type"+s.type+" align-self-center my-1"+(s.class?" "+s.class:""),h=s.type==fpcm.vars.jsvars.dataviews.rolColTypes.coltypeValue?'<div class="fpcm-ui-dataview-col-value">'+(s.value!==""?fpcm.ui.translate(s.value):"&nbsp;")+"</div>":s.value!==""?fpcm.ui.translate(s.value):"&nbsp;";let l=document.createElement("div");fpcm.dataview._assignStyles(u,l),l.id=d,l.innerHTML=h,i.appendChild(l),l=null}s.appendChild(i)},_assignStyles:function(e,t){if(!e)return!1;e=e.split(" ");for(var n in e){if(!e[n])continue;t.classList.add(e[n])}return!0}}